<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Technologies of the real time web - EDGE Academy 2013</title>

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
		<style type="text/css">
			div.article-reference {
				font-size:.7em;
			}
			div.article-reference li {
				line-height: 1.2em;
			}
            .gold {
                color: #d09c20;
            }
            .gold-bg {
            	background-color: #d09c20;	
            }
            .purple {
                color: #36185f;
            }
            .purple-bg {
				background-color: #36185f;
            }
            .nl-footer {
			    position:absolute;
			    bottom: 0;
			    border:none;
			    width: 100%;
			    padding: 10px 0;
		  	}
		  	.nl-footer img {
		  		height: 30px;
		  		padding-left: 30px;
		  	}
		  	.nl-footer .gold-bg {
		  		width: 20px;
		  		height: 50px;
		  		position: absolute;
		  		left: 0;
		  		top:0;
		  	}
		</style>
        <!-- google analytics -->
        <script type="text/javascript" src="../ga.js"></script>
	</head>

	<body>
		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
    <section>
        <section>
            <h1>technologies of<br>the real time web</h1>
            <div><img src="http://dl.dropbox.com/u/4512000/academylogo.png"></div>            
<aside class="notes">
In this talk you'll get a deep dive into the inner workings that drive the real-time web. We'll have a look at the technologies, the fallbacks and the complete frameworks and services that enable you to go real-time today! Basically we're talking about the what, the why and the how of real-time web and you'll be familiarised with concepts like sockets, server sent events, NodeJS and SignalR!
</aside>

</section>
            <section>
                <div>
<br>
    <iframe height="393" src="http://player.vimeo.com/video/58872990" width="700">&amp;amp;amp;nbsp;</iframe>
</div>
            </section>
            <section>
                <h2><span class="gold">tv.nrk.no</span> / <span class="purple">radio.nrk.no</span></h2>
<div>
    <a href="http://tv.nrk.no"><img src="http://i.imgur.com/pYgRhIV.jpg" style="width: 500.0px;"></a>
</div>
<div>Intelligent Polling &nbsp; &nbsp;=&gt; &nbsp; &nbsp;SignalR</div>
<div>Azure Service Bus</div>
</section>
            </section>
            <section>
                <section>
                    <h2>
    The real time what?
</h2>
<div>
    <br>
</div>
<div class="fragment">
                    <span style="line-height: 1.2em;font-size: 36.0px;letter-spacing: -0.02em;">its not just web sockets</span>
                    <br>
                </div>
                <div>
                    <span style="line-height: 1.2em;font-size: 36.0px;letter-spacing: -0.02em;">
                        <br>
                    </span>
                </div>
                <div class="fragment"><span class="gold">Real Time</span> is a concept<span style="line-height: 1.2em;font-size: 36.0px;letter-spacing: -0.02em;">
                    <br>
                </span>
            </div>
            <div>
                <br>
            </div>
            <div class="fragment">The ability for your server-side code <br><span class="gold">to push</span> content to connected clients</div>
<div>
    <br>
</div>
<div>
    <br>
</div>
</section>
            <section>
<div>
HTTP Polling
</div>
<div>
    <br>
</div>
<div>LiveConnect</div>
<div>
    <br>
</div>
<div>Forever Frame</div>
<div>
    <br>
</div>
<div>
    AJAX<br>
</div>
<div><br></div>
<div>
    Long Polling
</div>
<div><br></div>
<div>
    XHR Streaming / multipart-replace<br>
</div>
<div>
    <br>
</div>
<aside class="notes">
Live Connect - applet/js communication
<br>
AJAX - thanks to MS and Outlook Web app!
<br>
XHR Streaming - maintains a single connection<br>
XHR-multipart-replace<br>
(if support for continously growing responseText-object)<br>
XHR Streaming<br>
(only gecko-based browsers - supports growing responseText-object)<br>
Better than long polling but lost ground due to browser inconsistencies
</aside>

</section>
            <section>
                <h2>COMET</h2>
<div>
    <br>
</div>
<div class="fragment">
    umbrella term for HTTP <b class="purple">hacks</b> to simulate bi-directional communication between client and server.<br>
</div>
<div>
    <br>
</div>
<div class="fragment">
    requires <span class="gold">two HTTP</span> connections<br>
    one for sending and one for recieving
</div>
<div>
    <br>
</div>
<div class="fragment">
    Same Domain Policies<br>
    (have to self host)
</div>
</section>
            </section>
            <section>
                <section>
                    <h2>The why?</h2>
                    <div>
                        <span style="text-align: left;line-height: 1.2em;font-size: 36.0px;letter-spacing: -0.02em;">
                            <br>
                        </span>
                    </div>
                    <div>
                        <span class="gold">Better User Experience</span>
                        <br>
                    </div>
                    <div>
                        <ul>
                            <li>data driven pages</li>
                            <li>single page apps</li>
                            <li>
                                <span style="text-align: center;">bigger engagement</span>
                            </li>
                            <li>
                                <span style="text-align: center;line-height: 1.2em;font-size: 36.0px;letter-spacing: -0.02em;">bigger exposure</span>
                            </li>
                        </ul>
                        <div>
                            <br>
                        </div>
                    </div>
                    <div>
                        <br>
                    </div>
                </section>
                <section>
                    <h2>when now is a must</h2>
                    <div>its <b class="gold">business critical</b> / what you do</div>
                    <div>
                        <br>
                    </div>
                    <div class="fragment">
                        news/stock tickers
                    </div>
                    <div>
                        <br>
                    </div>
                    <div class="fragment">
                        messaging apps
                    </div>
                    <div>
                        <br>
                    </div>
                    <div class="fragment">status updates</div>
                    <div>
                        <br>
                    </div>
                    <div class="fragment">games</div>
                </section>
                <section>
                    <h2>cost reduction</h2>
                    <div>
                        <br>
                    </div>
                    <div>cut HTTP overhead</div>
                    <div>
                        <br>
                    </div>
                    <div>less bandwidth usage<br>
                    </div>
                    <div>
                        <br>
                    </div>
                    <div>
                        <span style="line-height: 1.2em;font-size: 36.0px;letter-spacing: -0.02em;">less hardware stress</span>
                    </div>
                </section>
                <section>
                    <h2>actual income</h2>
                    <div>
                        <span style="text-align: left;">
                            <br>
                        </span>
                    </div>
                    <div>
                        <span style="text-align: left;">conversion rate?</span>
                        <br>
                    </div>
                    <div>
                        <br>
                    </div>
                    <div>more clients?</div>
                    <div>
                        <br>
                    </div>
                </section>
            </section>
            <section>
                <h2>the how!</h2>
                <div>
                    <ul>
                        <li>
                            <span style="line-height: 1.2em;text-align: center;font-size: 36.0px;letter-spacing: -0.02em;">polling</span>
                            <br>
                        </li>
                        <li>
                            <span style="line-height: 1.2em;text-align: center;font-size: 36.0px;letter-spacing: -0.02em;">long polling</span>
                            <br>
                        </li>
                        <li>
                            <span style="line-height: 1.2em;text-align: center;font-size: 36.0px;letter-spacing: -0.02em;">forever frames</span>
                            <br>
                        </li>
                        <li>
                            <span style="line-height: 1.2em;text-align: center;font-size: 36.0px;letter-spacing: -0.02em;">SSE</span>
                            <br>
                        </li>
                        <li>
                            <span style="line-height: 1.2em;text-align: center;font-size: 36.0px;letter-spacing: -0.02em;">sockets</span>
                            <br>
                        </li>
                        <li>
                            <span style="line-height: 1.2em;text-align: center;font-size: 36.0px;letter-spacing: -0.02em;">webRTC</span>
                        </li>
                    </ul>
                </div>
                <div>
                    <br>
                </div>
                <div>
                    <br>
                </div>
            </section>
            <section>
                <section>
                    <h2>Polling</h2>
                    <div>
                        <br>
                    </div>
                    <div>check server for updates at regular intervals</div>
                    <div>
                        <br>
                    </div>
                    <div class="fragment">request-response-model</div>
                    <div>
                        <br>
                    </div>
                    <div>
                        <br>
                    </div>
                </section>
                <section>
                    <h2>set interval</h2>
<pre><code contenteditable>// client

setInterval(function(){
    $.ajax({ url: "poll" })
    .done(function (data) {
        // do something with data
    });
}, 15000);

</code></pre>

<pre class="fragment"><code contenteditable>// server

app.get('/poll', function (req, res) {
    var data = getDataUpdates();
    
    if(!!data){
        res.write(data);
    } 
    
    res.end();
});

</code></pre>
<p class="fragment">What if server <b class="gold">does not</b> respond in 15s?</p>

</section>
            <section>
                <h2>set timeout</h2>
<div>
    <br>
</div>
<pre><code contenteditable>// client

(function poll () { // a self invocating closure
    setTimeout(function () {
        $.ajax({ url: 'poll' })
        .done(function (data) { 
            // do something with data, then...
            poll();
        });
    }, 15000);
}());
<br>
</code></pre>
<pre class="fragment"><code contenteditable>// server

/* same as for setInterval */

</code></pre>
        <div class="fragment">
            A lot of wasted connections
            <br>
        </div>

</section>
    </section>
    <section>
        <section>
            <h2>long polling</h2>
            <div>[<span class="gold">hanging get / COMET</span>]</div>
            <div>
                <br>
            </div>
            <div class="fragment">establish connection and wait</div>
            <div>
                <br>
            </div>
            <div class="fragment">server responds when it has new data</div>
            <div>
                <br>
            </div>
            <div class="fragment">if connection is closed, client re-establishes</div>
        </section>
        <section>
            <h2>implementation</h2>
<pre><code contenteditable>// client

(function poll(){
  $.ajax({ url: 'longpoll', timeout: 15000})
  .done(function (data){
    // do someting with data
  }).always(poll);
});

</code></pre>
<pre class="fragment"><code contenteditable>// server

var defers = [];
app.get('/longpoll', function (req, res) {
  // save response in array
  defers.push(res);
});

function whenDataHappens(data){
  for(idx in defers){
    defers[idx].send(data);
  }
  defers = [];
}

</code></pre>
</section>
    <section>
        <h2>downsides</h2>
        <div>
            <div>Data could be lost during reconnect</div>
            <div>
                <br>
            </div>
            <div>Browser support for simultaneous connections</div>
        </div>
        <div>
            <br>
        </div>
        <div>Hanging Get not good for all servers</div>
        <div>
            <br>
        </div>
        <div>Not really true server push</div>
    </section>
</section>
<section>
    <section>
        <h2>forever frame</h2>
        <div>
            <br>
        </div>
        <div><span class="gold">true push</span> without polling</div>
        <div>
            <br>
        </div>
        <div class="fragment">HTTP 1.1 incremental rendering support</div>
        <div>
            <br>
        </div>
        <div class="fragment">avoids HTTP and TCP/IP set-up and tear-down</div>
        <div>
            <br>
        </div>
        <div>
            <br>
        </div>
    </section>
    <section>
        <h2>Chunked encoding</h2>
<div>
        <span style="line-height: 1.2em;font-size: 36.0px;letter-spacing: -0.02em;">HTTP 1.1 allows sending a response&nbsp;</span>
        <br>
    </div>
<div>before knowing its total length</div>
<div>
    <br>
</div>
<div>Header: "Transfer-Encoding: &nbsp;chunked"</div>
<pre class="fragment"><code contenteditable class="javascript">//server
var clients = [];
app.get('/foreverframe', function (req, res) {
    clients.push(res);

    res.writeHead(200, {
        'Content-Type':'text/html', 
        'Transfer-Encoding':'chunked'}
    );
    var msg = "connected via iframe!";
    res.write('&lt;script&gt;parent.ondata("'+msg+'");&lt;/script&gt;');
});
</code></pre>
<div class="fragment">data-chunks wrapped in script-tags<br>
</div>

</section>
<section>
    <h2>hidden iframes</h2>
<div>
<span style="line-height: 1.2em;letter-spacing: -0.02em;">open after page load</span>&nbsp;</div>
<div>
    <br>
</div>
<div class="fragment">script-tags executed as they are recieved</div>
<pre class="fragment"><code contenteditable class="html">&lt;!--client--&gt;

&lt;iframe src=""&gt;&lt;/iframe&gt;
&lt;script&gt;
    window.ondata = function(data){
        // do something with data
    }
    $(function(){
        $('iframe').attr('src', '/foreverframe');

    });
&lt;/script&gt;

</code></pre>
<div class="fragment">all in all - its a hack<br>
</div>




</section>
</section>
<section>
    <section>
        <h2>Server sent events</h2>
        <div>true <b class="gold">event-based</b> server push</div>
        <div>
            <br>
        </div>
        <div>shadowed by WebSockets</div>
        <div>
            <br>
        </div>
        <div class="fragment">browser subscribe to stream of updates</div>
        <div>
            <br>
        </div>
        <div class="fragment">Handy <span class="gold">built-in</span> functionality</div>
        <div>
            <ul class="fragment">
                <li>automatic reconnects</li>
                <li>event id's</li>
                <li>arbitrary events</li>
            </ul>
        </div>
    </section>
    <section>
        <h2>server side</h2>
<pre><code contenteditable class="javascript">// nodejs + express

var clients = [];
app.get('/stream', function(req, res){
    var id = (new Date()).toLocalTimeString();
    clients.push({res : res, id : id});
    res.writeHead(200,{
        'Content-Type' : 'text/event-stream',
        'Cache-Control': 'no-cache',
        'Connection'   : 'keep-alive'        
    });
    sendMessage(res, 'connected to server');
});

function sendMessage(res, msg){
    res.write('data: ' + msg + '\n\n');
}
</code></pre>
</section>
    <section>
        <h2>client side</h2>
<pre><code contenteditable>if(!!EventSource){

  var source = new EventSource('/stream');
  
  source.onmessage = function(e){
    // do something with e.data
  }

  source.onopen = function(e){
    // called when connection opened
  }

  source.onerror = function(e){
    // called on error
  }
}
</code></pre>
</section>
    <section>
        <h2>JSON &amp; custom events</h2>
<pre><code contenteditable>// server
app.get('/stream', function(){
    // first write headers, then...

    res.write('id: ' + (new Date).getTime() + '\n');
    res.write('event: customevent');
    res.write('data: {\n');
    res.write('data: "msg" : "hey SSE" \n');
    res.write('data: }\n\n');

})
</code></pre>
<pre class="fragment"><code contenteditable>// client
var source = new EventSource('/stream');

source.addEventListener('customevent', function(e){

    var data = JSON.parse(e.data);
    var eventId = e.lastEventId;

}, false);</code></pre>
</section>
<section>
    <h2>
        <br>
    </h2>
    <div>HTTP based so works on all servers<br>
    </div>
    <div>
        <br>
    </div>
    <div>Browser Support&nbsp;</div>
    <div>
        <ul>
            <li>FF &gt; 6.0</li>
            <li>Chrome</li>
            <li>Opera &lt; 11</li>
            <li>Safari &gt; 5.0</li>
        </ul>
        <div>
            <br>
        </div>
    </div>
    <div class="fragment">i.e. Long Polling or Forever Frame for IE</div>
</section>
</section>
<section>
    <section>
        <h2>web sockets</h2>
        <div>
            <br>
        </div>
        <div>
            Long-held, <span class="gold">full-duplex</span> single TCP connection</div>
            <div>
                <br>
            </div>
            <div class="fragment">
                Network traffic comparison
                <br><br>
                <i>1,000 clients polling/recieve once a second</i>
            </div>
            <div>
                    <br>
            </div>
            <div>
                <br>
            </div>
            <div>
                <ul>
                    <li class="fragment">
                        <span class="gold">http:</span> 871,000 bytes = 6.6 Mbps
                        <br>
                    </li>
                    <li class="fragment">
                        <span class="gold">ws:</span> &nbsp; &nbsp;2,000 &nbsp; &nbsp; &nbsp; bytes = 0.015 Mbps
                        <br>
                    </li>
                </ul>
            </div>
        </section>
        <section>
            <h2>client side</h2>
<pre><code contenteditable>// vanilla js

var connection = new WebSocket('ws://some-server', ['soap','xmpp']);
connection.onopen = function() {
    connection.send('hey Im here!'); // string or binary data
}
connection.onmessage = function(){};
</code></pre>
<pre class="fragment"><code contenteditable>
// using socket.io

var socket = io.socket('http://some-server');

socket.on('named event', function(data){
    // do something with data
    socket.emit('another event', { msg: 'hola' });
});

</code></pre>
</section>
        <section>
            <h2>server</h2>
<pre><code contenteditable>// using nodejs
var app = require('express')(),
    server = require('http').createServer(app),
    io = require('socket.io').listen(server);

server.listen(3000);
</code></pre>
<pre class="fragment"><code contenteditable>// setup socket
io.sockets.on('connection', function(socket){

    socket.on('another event', function(data){
        console.log(data.msg);
    });
    socket.emit('named event', { msg : 'connected' })

});
</code></pre>
<pre class="fragment"><code contenteditable>// routing
app.get('/', function(req, res){ /*...*/ });

</code></pre>
<p>
<br>
</p>
</section>
    <section>
        <h2>are we ready?</h2>
        <div>
            <div style="font: inherit;">Can we skip HTTP solutions?</div>
            <div style="font: inherit;">
                <br>
            </div>
            <div style="font: inherit;">
                <ol>
                    <li class="fragment">Need greater browser support<br>
                        <br>
                    </li>
                    <li class="fragment">Anti-virus manufacturers (such as Avast!)&nbsp;<br>stop interfering with connectivity<br>
                        <br>
                    </li>
                    <li class="fragment">Internet infrastructure is updated.&nbsp;<br>We want&nbsp;port 80 (WS), not just 443 (WSS).<br>(some mobile carriers block WS)</li>
                </ol>
            </div>
        </div>
        <div class="fragment">
            <br>
            <span class="gold">soon...</span>
        </div>
    </section>
</section>
<section>
    <section>
        <h2>web rtc</h2>
        <div>
            <br>
            </div>
    <div><div>
        <span>Imagine a world where your phone,&nbsp;</span>
    </div>
    <div>
            <span>TV and computer could all&nbsp;</span>
    </div>
    <div>
            <span>communicate on a common platform.&nbsp;</span>
    </div>
    <div>
            <span>
                <br>
            </span>
    </div>
    </div>
    <div class="fragment">
    <div>
            <span>Imagine it was easy to add video chat&nbsp;</span>
        </div>
        <div>
            <span>to your web application.&nbsp;</span>
        </div>
        <div>
            <span>That's the vision of WebRTC</span>
    <br>
    </div>
</div>
            <div>
                <br>
            </div>
            <div class="fragment">Open standards for real-time, plugin-free video, <br>audio and data communication.</div>
</section>
            <section>
                <h2>Current api</h2>
                <div>
                    <br>
                </div>
                <div>
                    <ul>
                        <li>
                            <span style="line-height: 1.2em; text-align: center; font-size: 36px; letter-spacing: -0.02em;">MediaStream (aka getUserMedia)</span>
                            <br>
                        </li>
                        <li>
                            <span style="line-height: 1.2em; text-align: center; font-size: 36px; letter-spacing: -0.02em;">RTCPeerConnection</span>
                        </li>
                        <li>
                            <span style="line-height: 1.2em; text-align: center; font-size: 36px; letter-spacing: -0.02em;">RTCDataChannel</span>
                        </li>
                    </ul>
                    <div>
                        <br>
                    </div>
                </div>
                <div>browser-to-browser communication</div>
            </section>
        </section>
        <section>
            <h2>solutions</h2>
            <div>Bundles with automatic fallback</div>
            <div>
                <br>
            </div>
            <div>
                <a href="http://signalr.net/">ASP.NET SignalR</a>
            </div>
            <div>
                <br>
            </div>
            <div>
                <a href="http://socket.io/">Socket.IO</a>
            </div>
            <div>
                <br>
            </div>
            <div>
                <a href="http://www.lightstreamer.com">LightStreamer</a>
            </div>
            <div>
                <br>
            </div>
        </section>
        <section>
            <h2>Services</h2>
<div>
    <a href="http://pusher.com/">
<img height="71px" src="http://kinlane-productions.s3.amazonaws.com/api-evangelist-site/serviceproviders/pusher-logo.png">
</a>
</div>
<div><b class="gold">$6k</b>/month for 50k connections
</div>
<div>
    <br>
</div>
<div>
<a href="http://www.pubnub.com/">
<img src="http://www.moesion.com/wp-content/uploads/2011/09/PubNub-logo-e1316345695606.jpg">
</a>
</div>
<div><b class="gold">$400</b>/month for 10k connections</div>
<div>
    <br>
</div>
<div>
    <a href="https://www.firebase.com/">
<img src="http://tctechcrunch2011.files.wordpress.com/2012/05/firebase-logo.jpeg?w=243">
</a>
</div>
<div><b class="gold">$2k</b>/month unlimited connections</div>




</section>
            <section>
                <h2>Reference</h2>
                <div>
                    <ul>
                        <li>
                            <a href="http://blog.pusher.com/what-came-before-websockets/">Before WebSockets</a>
                        </li>
                        <li>
                            <a href="http://pusher.com/websockets">What are WebSockets</a>
                        </li>
                        <li>
                            <a href="http://www.html5rocks.com/en/tutorials/websockets/basics/">Introducing WebSockets</a>
                        </li>
                        <li>&nbsp;<a href="http://www.html5rocks.com/en/tutorials/eventsource/basics/">Server-Sent Events</a>&nbsp;</li>
                        <li>
                            <a href="http://techoctave.com/c7/posts/60-simple-long-polling-example-with-javascript-and-jquery">Ajax Long Polling</a>
                        </li>
                        <li>
                            <a href="http://cometdaily.com/2007/11/05/the-forever-frame-technique/">The Forever-frame technique</a>
                        </li>
                        <li>
                            <a href="http://www.html5rocks.com/en/tutorials/webrtc/basics/">Getting started with WebRTC</a>
                        </li>
                        <li>
                            <a href="http://www.websocket.org/quantum.html">A Quantum Leap in Scalability</a>
                        </li>
                        <li>
                            <a href="http://www.html5rocks.com/en/tutorials/webrtc/basics/">WebRTC Basics</a>
                        </li>
                    </ul>
                </div>
                <div>
                    <br>
                </div>
                <div>
                    <a href="https://www.dropbox.com/s/iuey7a92mehvpiy/edge2013_code.zip">My Code examples (js &amp; nodejs)</a>
                </div>
            </section>
        </div>



		</div>
		<!-- .reveal ends here -->
		<!-- <div class="nl-footer purple-bg">
			<div class="gold-bg"></div>
			<a href="http://www.netlight.com">
  				<img alt="Netlight logo" src="https://dl.dropbox.com/u/4512000/logo/NL_WHITE.png">
			</a>
		</div> -->

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/showdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
